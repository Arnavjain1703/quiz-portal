{% extends 'admin/base_for_admin.html' %}
{% load static %}

{% block title %}
    Show Questions
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'core/css/showquestion_instruction.css' %}">
    <script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
    <script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
{% endblock %}

{% block content %}
    <div class="questions-list">
        <h3 class="heading">Questions List</h3>
        <div id="accordian">
            {% for i in l %}
                {% for j in i.1 %}
                <button class="btn" id={{ i.0 }} data-toggle="collapse" data-target='#{{ j.0 }}'  aria-expanded="false" aria-controls={{ j.0 }}>
                    {{ i.0 }}
                </button>
                    <div id={{ j.0 }} class="collapse show" aria-labelledby={ { i.0 }} data-parent="#accordion">
                        <h5>
                            <br>
                            <span>Category: {{ j.0 }}</span>
                        </h5>
                        {% for que in j.1 %}
                        <table class="table table-hover">
                            <tbody>
                                <tr>
                                    <td>
                                        <ol>
                                            <div>
                                                <span>Q. &nbsp;</span>
                                                <span>{{ que.question_text|safe|escape }}</span>
                                            </div>
                                            <li>{{ que.choice1|safe|escape }}</li>
                                            <li>{{ que.choice2|safe|escape }}</li>
                                            <li>{{ que.choice3|safe|escape }}</li>
                                            <li>{{ que.choice4|safe|escape }}</li>
                                            <p>Correct Choice - {{ que.correct_choice|safe|escape }}</p>
                                        </ol>
                                        <a href="{% url "Edit_Question" que.pk %}">
                                            <button type="button" class="btn btn-raised btn-primary">Edit</button>
                                        </a>
                                        <a href="{% url "Delete_Question" que.pk %}">
                                            <button type="button" class="btn btn-raised btn-danger">Delete</button>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        {% empty %}
                        <p style="color: red;">No Questions present for this category.</p>
                        {% endfor %} 
                       
                        <span style="color: red;">No category available for this test.</span>
                    </div>
                {% empty %}
                {% endfor %}
            {% empty %}
            {% endfor %}

         
        <!-- {% for i in l %}
                <h4>
                    <span>Test name: {{ i.0 }}</span>
                </h4>
                {% for j in i.1 %}
                    <h5>
                        <br><span>Category: {{ j.0 }}</span>
                    </h5>
                    {% for que in j.1 %} 
                        <table class="table table-hover">
                            <tbody>
                                <tr>
                                    <td>
                                        <ol>
                                            <div>
                                            <span>Q. &nbsp;</span>
                                            <span>{{ que.question_text|safe|escape }}</span>
                                            </div>
                                            <li>{{ que.choice1|safe|escape }}</li>
                                            <li>{{ que.choice2|safe|escape }}</li>
                                            <li>{{ que.choice3|safe|escape }}</li>
                                            <li>{{ que.choice4|safe|escape }}</li>
                                            <p>Correct Choice - {{ que.correct_choice|safe|escape }}</p>
                                        </ol>
                                        <a href="{% url "Edit_Question" que.pk %}">
                                            <button type="button" class="btn btn-raised btn-primary">Edit</button>
                                        </a>
                                        <a href="{% url "Delete_Question" que.pk %}">
                                            <button type="button" class="btn btn-raised btn-danger">Delete</button>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    {% empty %}
                        <p style="color: red;">No Questions present for this category.</p>
                    {% endfor %}
                {% empty %}
                    <span style="color: red;">No category available for this test.</span>
                {% endfor %}
            </div>
        {% endfor %} -->
        </div>
        </div>
{% endblock%}